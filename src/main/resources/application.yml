spring:
  application:
    name: padel-backend

  datasource:
    url: ${DATABASE_URL:jdbc:postgresql://localhost:5432/padel}
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
        jdbc:
          time_zone: UTC
    show-sql: false

  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration

  jackson:
    serialization:
      write-dates-as-timestamps: false
    time-zone: UTC

server:
  port: 8080
  error:
    include-message: always
    include-stacktrace: on_param

# External services
external:
  clerk:
    issuer-url: ${CLERK_ISSUER_URL:}
    jwks-url: ${CLERK_JWKS_URL:}
    webhook-secret: ${CLERK_WEBHOOK_SECRET:}

  stream-chat:
    api-key: ${STREAM_API_KEY:}
    api-secret: ${STREAM_API_SECRET:}

  onesignal:
    app-id: ${ONESIGNAL_APP_ID:}
    api-key: ${ONESIGNAL_API_KEY:}

  resend:
    api-key: ${RESEND_API_KEY:}

  google-maps:
    api-key: ${GOOGLE_MAPS_API_KEY:}

  scaleway:
    access-key: ${SCALEWAY_ACCESS_KEY:}
    secret-key: ${SCALEWAY_SECRET_KEY:}
    bucket: ${SCALEWAY_BUCKET:padel-uploads}
    region: ${SCALEWAY_REGION:fr-par}
    endpoint: ${SCALEWAY_ENDPOINT:https://s3.fr-par.scw.cloud}

# App specific
app:
  jwt:
    secret: ${JWT_SECRET:change-me-in-production}
    expiration: 86400000 # 24 hours

  cors:
    allowed-origins: ${CORS_ORIGINS:http://localhost:19006,http://localhost:8081}

# SpringDoc OpenAPI / Swagger
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    operationsSorter: method
    tagsSorter: alpha
  show-actuator: false
